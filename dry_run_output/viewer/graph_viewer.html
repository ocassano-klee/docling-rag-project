<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neptune Graph Viewer - Visualisation Interactive</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        
        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }
        
        .stats {
            display: flex;
            justify-content: space-around;
            padding: 20px;
            background: #f8f9fa;
            border-bottom: 2px solid #e9ecef;
        }
        
        .stat-card {
            text-align: center;
            padding: 15px 30px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
        }
        
        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .stat-label {
            color: #6c757d;
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .stat-card.documents .stat-number { color: #FF6B6B; }
        .stat-card.chunks .stat-number { color: #4ECDC4; }
        .stat-card.topics .stat-number { color: #FFD93D; }
        .stat-card.annotations .stat-number { color: #95E1D3; }
        .stat-card.edges .stat-number { color: #6c757d; }
        
        .controls {
            padding: 20px;
            background: white;
            border-bottom: 2px solid #e9ecef;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            align-items: center;
        }
        
        .control-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .control-group label {
            font-weight: 600;
            color: #495057;
        }
        
        button {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            font-size: 0.9em;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        .btn-primary {
            background: #667eea;
            color: white;
        }
        
        .btn-success {
            background: #51cf66;
            color: white;
        }
        
        .btn-warning {
            background: #ffd93d;
            color: #333;
        }
        
        .btn-info {
            background: #4ecdc4;
            color: white;
        }
        
        select {
            padding: 8px 15px;
            border: 2px solid #e9ecef;
            border-radius: 5px;
            font-size: 0.9em;
            cursor: pointer;
        }
        
        #mynetwork {
            width: 100%;
            height: 700px;
            border-top: 2px solid #e9ecef;
        }
        
        .legend {
            padding: 20px;
            background: #f8f9fa;
            border-top: 2px solid #e9ecef;
        }
        
        .legend h3 {
            margin-bottom: 15px;
            color: #495057;
        }
        
        .legend-items {
            display: flex;
            gap: 30px;
            flex-wrap: wrap;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .legend-color {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            border: 2px solid #333;
        }
        
        .shared-topics {
            padding: 20px;
            background: #fff3cd;
            border-top: 2px solid #ffc107;
        }
        
        .shared-topics h3 {
            margin-bottom: 15px;
            color: #856404;
        }
        
        .shared-topics ul {
            list-style: none;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 10px;
        }
        
        .shared-topics li {
            padding: 10px;
            background: white;
            border-radius: 5px;
            border-left: 4px solid #ffc107;
        }
        
        .shared-topics strong {
            color: #856404;
        }
        
        .info-panel {
            padding: 20px;
            background: #e7f5ff;
            border-top: 2px solid #339af0;
        }
        
        .info-panel h3 {
            margin-bottom: 10px;
            color: #1864ab;
        }
        
        .info-panel p {
            color: #495057;
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üåê Neptune Graph Viewer</h1>
            <p>Visualisation interactive du graphe de connaissances</p>
        </div>
        
        <div class="stats">
            <div class="stat-card documents">
                <div class="stat-number">2</div>
                <div class="stat-label">Documents</div>
            </div>
            <div class="stat-card chunks">
                <div class="stat-number">11</div>
                <div class="stat-label">Chunks</div>
            </div>
            <div class="stat-card topics">
                <div class="stat-number">25</div>
                <div class="stat-label">Topics</div>
            </div>
            <div class="stat-card annotations">
                <div class="stat-number">33</div>
                <div class="stat-label">Annotations</div>
            </div>
            <div class="stat-card edges">
                <div class="stat-number">82</div>
                <div class="stat-label">Relations</div>
            </div>
        </div>
        
        
        <div class="shared-topics">
            <h3>üîó Topics Partag√©s (Liens entre documents)</h3>
            <ul>
                <li><strong>sant√©</strong> : 2 documents li√©s</li>
<li><strong>remboursement</strong> : 2 documents li√©s</li>
<li><strong>assurance</strong> : 2 documents li√©s</li>
<li><strong>montant</strong> : 2 documents li√©s</li>
<li><strong>p√©riode</strong> : 2 documents li√©s</li>
            </ul>
        </div>
        
        
        <div class="controls">
            <div class="control-group">
                <label>Layout :</label>
                <select id="layoutSelect" onchange="changeLayout()">
                    <option value="hierarchical">Hi√©rarchique</option>
                    <option value="force">Force-directed</option>
                    <option value="circular">Circulaire</option>
                </select>
            </div>
            
            <button class="btn-primary" onclick="focusOnTopics()">üéØ Focus Topics Partag√©s</button>
            <button class="btn-success" onclick="showAllNodes()">üëÅÔ∏è Tout Afficher</button>
            <button class="btn-warning" onclick="highlightConnections()">üîó Mettre en √©vidence les liens</button>
            <button class="btn-info" onclick="resetView()">üîÑ R√©initialiser</button>
        </div>
        
        <div id="mynetwork"></div>
        
        <div class="legend">
            <h3>üìä L√©gende</h3>
            <div class="legend-items">
                <div class="legend-item">
                    <div class="legend-color" style="background: #FF6B6B;"></div>
                    <span><strong>Documents</strong> - Fichiers PDF sources</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #4ECDC4;"></div>
                    <span><strong>Chunks</strong> - Morceaux de texte</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #FFD93D;"></div>
                    <span><strong>Topics</strong> - Concepts partag√©s (‚≠ê cl√© de la liaison !)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #95E1D3;"></div>
                    <span><strong>Annotations</strong> - M√©tadonn√©es contextuelles</span>
                </div>
            </div>
        </div>
        
        <div class="info-panel">
            <h3>üí° Comment utiliser cette visualisation</h3>
            <p>
                <strong>üñ±Ô∏è Navigation :</strong> Cliquez et glissez pour d√©placer le graphe. Utilisez la molette pour zoomer.<br>
                <strong>üéØ S√©lection :</strong> Cliquez sur un n≈ìud pour voir ses connexions.<br>
                <strong>üîó Topics partag√©s :</strong> Les n≈ìuds jaunes (Topics) sont la cl√© ! Ils lient automatiquement les documents qui partagent les m√™mes concepts.<br>
                <strong>üìä Layouts :</strong> Changez le layout pour diff√©rentes perspectives du graphe.
            </p>
        </div>
    </div>
    
    <script>
        // Donn√©es du graphe
        const nodesData = [{"id": "olivia_ortho_1", "label": "olivia_ortho_1.pdf", "type": "Document", "group": "document", "title": "olivia_ortho_1.pdf", "color": "#FF6B6B"}, {"id": "topic_remboursement", "label": "remboursement", "type": "Topic", "group": "topic", "topic_type": "business_concept", "color": "#FFD93D"}, {"id": "topic_dentaire", "label": "dentaire", "type": "Topic", "group": "topic", "topic_type": "business_concept", "color": "#FFD93D"}, {"id": "topic_sante", "label": "sant√©", "type": "Topic", "group": "topic", "topic_type": "business_concept", "color": "#FFD93D"}, {"id": "topic_intervention", "label": "intervention", "type": "Topic", "group": "topic", "topic_type": "business_concept", "color": "#FFD93D"}, {"id": "topic_client", "label": "client", "type": "Topic", "group": "topic", "topic_type": "business_concept", "color": "#FFD93D"}, {"id": "topic_partenamut", "label": "partenamut", "type": "Topic", "group": "topic", "topic_type": "keyword", "color": "#FFD93D"}, {"id": "topic_assurance", "label": "assurance", "type": "Topic", "group": "topic", "topic_type": "business_concept", "color": "#FFD93D"}, {"id": "topic_mutuelle", "label": "mutuelle", "type": "Topic", "group": "topic", "topic_type": "business_concept", "color": "#FFD93D"}, {"id": "topic_contrat", "label": "contrat", "type": "Topic", "group": "topic", "topic_type": "business_concept", "color": "#FFD93D"}, {"id": "topic_mloz", "label": "mloz", "type": "Topic", "group": "topic", "topic_type": "keyword", "color": "#FFD93D"}, {"id": "topic_insurance", "label": "insurance", "type": "Topic", "group": "topic", "topic_type": "keyword", "color": "#FFD93D"}, {"id": "topic_montant", "label": "montant", "type": "Topic", "group": "topic", "topic_type": "business_concept", "color": "#FFD93D"}, {"id": "topic_totaux", "label": "totaux", "type": "Topic", "group": "topic", "topic_type": "keyword", "color": "#FFD93D"}, {"id": "topic_plafond", "label": "plafond", "type": "Topic", "group": "topic", "topic_type": "business_concept", "color": "#FFD93D"}, {"id": "topic_periode", "label": "p√©riode", "type": "Topic", "group": "topic", "topic_type": "business_concept", "color": "#FFD93D"}, {"id": "topic_dentalia", "label": "dentalia", "type": "Topic", "group": "topic", "topic_type": "keyword", "color": "#FFD93D"}, {"id": "topic_annee", "label": "ann√©e", "type": "Topic", "group": "topic", "topic_type": "keyword", "color": "#FFD93D"}, {"id": "olivia_ortho_1_chunk_0000", "label": "olivia_ortho_1_chunk_0000\nPage 1", "type": "Chunk", "group": "chunk", "page": 1, "document_id": "olivia_ortho_1", "color": "#4ECDC4"}, {"id": "olivia_ortho_1_chunk_0000_ann_element_type", "label": "element_type\nTextItem", "type": "Annotation", "group": "annotation", "ann_type": "element_type", "value": "TextItem", "color": "#95E1D3"}, {"id": "olivia_ortho_1_chunk_0000_ann_location", "label": "location\npage_1", "type": "Annotation", "group": "annotation", "ann_type": "location", "value": "page_1", "color": "#95E1D3"}, {"id": "olivia_ortho_1_chunk_0000_ann_length", "label": "length\nmoyen", "type": "Annotation", "group": "annotation", "ann_type": "length", "value": "moyen", "color": "#95E1D3"}, {"id": "olivia_ortho_1_chunk_0001", "label": "olivia_ortho_1_chunk_0001\nPage 1", "type": "Chunk", "group": "chunk", "page": 1, "document_id": "olivia_ortho_1", "color": "#4ECDC4"}, {"id": "olivia_ortho_1_chunk_0001_ann_element_type", "label": "element_type\nTextItem", "type": "Annotation", "group": "annotation", "ann_type": "element_type", "value": "TextItem", "color": "#95E1D3"}, {"id": "olivia_ortho_1_chunk_0001_ann_location", "label": "location\npage_1", "type": "Annotation", "group": "annotation", "ann_type": "location", "value": "page_1", "color": "#95E1D3"}, {"id": "olivia_ortho_1_chunk_0001_ann_length", "label": "length\ncourt", "type": "Annotation", "group": "annotation", "ann_type": "length", "value": "court", "color": "#95E1D3"}, {"id": "olivia_ortho_1_chunk_0002", "label": "olivia_ortho_1_chunk_0002\nPage 1", "type": "Chunk", "group": "chunk", "page": 1, "document_id": "olivia_ortho_1", "color": "#4ECDC4"}, {"id": "olivia_ortho_1_chunk_0002_ann_element_type", "label": "element_type\nTextItem", "type": "Annotation", "group": "annotation", "ann_type": "element_type", "value": "TextItem", "color": "#95E1D3"}, {"id": "olivia_ortho_1_chunk_0002_ann_location", "label": "location\npage_1", "type": "Annotation", "group": "annotation", "ann_type": "location", "value": "page_1", "color": "#95E1D3"}, {"id": "olivia_ortho_1_chunk_0002_ann_length", "label": "length\ncourt", "type": "Annotation", "group": "annotation", "ann_type": "length", "value": "court", "color": "#95E1D3"}, {"id": "olivia_ortho_1_chunk_0003", "label": "olivia_ortho_1_chunk_0003\nPage 1", "type": "Chunk", "group": "chunk", "page": 1, "document_id": "olivia_ortho_1", "color": "#4ECDC4"}, {"id": "olivia_ortho_1_chunk_0003_ann_element_type", "label": "element_type\nTextItem", "type": "Annotation", "group": "annotation", "ann_type": "element_type", "value": "TextItem", "color": "#95E1D3"}, {"id": "olivia_ortho_1_chunk_0003_ann_location", "label": "location\npage_1", "type": "Annotation", "group": "annotation", "ann_type": "location", "value": "page_1", "color": "#95E1D3"}, {"id": "olivia_ortho_1_chunk_0003_ann_length", "label": "length\nmoyen", "type": "Annotation", "group": "annotation", "ann_type": "length", "value": "moyen", "color": "#95E1D3"}, {"id": "olivia_ortho_1_chunk_0004", "label": "olivia_ortho_1_chunk_0004\nPage 2", "type": "Chunk", "group": "chunk", "page": 2, "document_id": "olivia_ortho_1", "color": "#4ECDC4"}, {"id": "olivia_ortho_1_chunk_0004_ann_element_type", "label": "element_type\nTableItem", "type": "Annotation", "group": "annotation", "ann_type": "element_type", "value": "TableItem", "color": "#95E1D3"}, {"id": "olivia_ortho_1_chunk_0004_ann_location", "label": "location\npage_2", "type": "Annotation", "group": "annotation", "ann_type": "location", "value": "page_2", "color": "#95E1D3"}, {"id": "olivia_ortho_1_chunk_0004_ann_length", "label": "length\nlong", "type": "Annotation", "group": "annotation", "ann_type": "length", "value": "long", "color": "#95E1D3"}, {"id": "olivia_ortho_1_chunk_0005", "label": "olivia_ortho_1_chunk_0005\nPage 2", "type": "Chunk", "group": "chunk", "page": 2, "document_id": "olivia_ortho_1", "color": "#4ECDC4"}, {"id": "olivia_ortho_1_chunk_0005_ann_element_type", "label": "element_type\nTableItem", "type": "Annotation", "group": "annotation", "ann_type": "element_type", "value": "TableItem", "color": "#95E1D3"}, {"id": "olivia_ortho_1_chunk_0005_ann_location", "label": "location\npage_2", "type": "Annotation", "group": "annotation", "ann_type": "location", "value": "page_2", "color": "#95E1D3"}, {"id": "olivia_ortho_1_chunk_0005_ann_length", "label": "length\nmoyen", "type": "Annotation", "group": "annotation", "ann_type": "length", "value": "moyen", "color": "#95E1D3"}, {"id": "olivia_ortho_2", "label": "olivia_ortho_2.docx", "type": "Document", "group": "document", "title": "olivia_ortho_2.docx", "color": "#FF6B6B"}, {"id": "topic_compte", "label": "compte", "type": "Topic", "group": "topic", "topic_type": "business_concept", "color": "#FFD93D"}, {"id": "topic_mensuel", "label": "mensuel", "type": "Topic", "group": "topic", "topic_type": "keyword", "color": "#FFD93D"}, {"id": "topic_traitement", "label": "traitement", "type": "Topic", "group": "topic", "topic_type": "keyword", "color": "#FFD93D"}, {"id": "olivia_ortho_2_chunk_0000", "label": "olivia_ortho_2_chunk_0000\nPage 1", "type": "Chunk", "group": "chunk", "page": 1, "document_id": "olivia_ortho_2", "color": "#4ECDC4"}, {"id": "olivia_ortho_2_chunk_0000_ann_element_type", "label": "element_type\nText", "type": "Annotation", "group": "annotation", "ann_type": "element_type", "value": "Text", "color": "#95E1D3"}, {"id": "olivia_ortho_2_chunk_0000_ann_location", "label": "location\npage_1", "type": "Annotation", "group": "annotation", "ann_type": "location", "value": "page_1", "color": "#95E1D3"}, {"id": "olivia_ortho_2_chunk_0000_ann_length", "label": "length\nlong", "type": "Annotation", "group": "annotation", "ann_type": "length", "value": "long", "color": "#95E1D3"}, {"id": "olivia_ortho_2_chunk_0001", "label": "olivia_ortho_2_chunk_0001\nPage 1", "type": "Chunk", "group": "chunk", "page": 1, "document_id": "olivia_ortho_2", "color": "#4ECDC4"}, {"id": "olivia_ortho_2_chunk_0001_ann_element_type", "label": "element_type\nText", "type": "Annotation", "group": "annotation", "ann_type": "element_type", "value": "Text", "color": "#95E1D3"}, {"id": "olivia_ortho_2_chunk_0001_ann_location", "label": "location\npage_1", "type": "Annotation", "group": "annotation", "ann_type": "location", "value": "page_1", "color": "#95E1D3"}, {"id": "olivia_ortho_2_chunk_0001_ann_length", "label": "length\nlong", "type": "Annotation", "group": "annotation", "ann_type": "length", "value": "long", "color": "#95E1D3"}, {"id": "olivia_ortho_2_chunk_0002", "label": "olivia_ortho_2_chunk_0002\nPage 1", "type": "Chunk", "group": "chunk", "page": 1, "document_id": "olivia_ortho_2", "color": "#4ECDC4"}, {"id": "olivia_ortho_2_chunk_0002_ann_element_type", "label": "element_type\nText", "type": "Annotation", "group": "annotation", "ann_type": "element_type", "value": "Text", "color": "#95E1D3"}, {"id": "olivia_ortho_2_chunk_0002_ann_location", "label": "location\npage_1", "type": "Annotation", "group": "annotation", "ann_type": "location", "value": "page_1", "color": "#95E1D3"}, {"id": "olivia_ortho_2_chunk_0002_ann_length", "label": "length\nlong", "type": "Annotation", "group": "annotation", "ann_type": "length", "value": "long", "color": "#95E1D3"}, {"id": "olivia_ortho_2_chunk_0003", "label": "olivia_ortho_2_chunk_0003\nPage 1", "type": "Chunk", "group": "chunk", "page": 1, "document_id": "olivia_ortho_2", "color": "#4ECDC4"}, {"id": "olivia_ortho_2_chunk_0003_ann_element_type", "label": "element_type\nText", "type": "Annotation", "group": "annotation", "ann_type": "element_type", "value": "Text", "color": "#95E1D3"}, {"id": "olivia_ortho_2_chunk_0003_ann_location", "label": "location\npage_1", "type": "Annotation", "group": "annotation", "ann_type": "location", "value": "page_1", "color": "#95E1D3"}, {"id": "olivia_ortho_2_chunk_0003_ann_length", "label": "length\nlong", "type": "Annotation", "group": "annotation", "ann_type": "length", "value": "long", "color": "#95E1D3"}, {"id": "olivia_ortho_2_chunk_0004", "label": "olivia_ortho_2_chunk_0004\nPage 1", "type": "Chunk", "group": "chunk", "page": 1, "document_id": "olivia_ortho_2", "color": "#4ECDC4"}, {"id": "olivia_ortho_2_chunk_0004_ann_element_type", "label": "element_type\nText", "type": "Annotation", "group": "annotation", "ann_type": "element_type", "value": "Text", "color": "#95E1D3"}, {"id": "olivia_ortho_2_chunk_0004_ann_location", "label": "location\npage_1", "type": "Annotation", "group": "annotation", "ann_type": "location", "value": "page_1", "color": "#95E1D3"}, {"id": "olivia_ortho_2_chunk_0004_ann_length", "label": "length\ncourt", "type": "Annotation", "group": "annotation", "ann_type": "length", "value": "court", "color": "#95E1D3"}];
        const edgesData = [{"from": "olivia_ortho_1", "to": "olivia_ortho_1_chunk_0000", "label": "HAS_CHUNK", "color": "#FF6B6B", "width": 3, "arrows": "to"}, {"from": "olivia_ortho_1_chunk_0000", "to": "topic_dentaire", "label": "ABOUT", "color": "#FFD93D", "width": 2.5, "arrows": "to"}, {"from": "olivia_ortho_1_chunk_0000", "to": "topic_sante", "label": "ABOUT", "color": "#FFD93D", "width": 2.5, "arrows": "to"}, {"from": "olivia_ortho_1_chunk_0000", "to": "topic_intervention", "label": "ABOUT", "color": "#FFD93D", "width": 2.5, "arrows": "to"}, {"from": "olivia_ortho_1_chunk_0000", "to": "topic_remboursement", "label": "ABOUT", "color": "#FFD93D", "width": 2.5, "arrows": "to"}, {"from": "olivia_ortho_1_chunk_0000", "to": "olivia_ortho_1_chunk_0000_ann_element_type", "label": "HAS_ANNOTATION", "color": "#4ECDC4", "width": 2, "arrows": "to"}, {"from": "olivia_ortho_1_chunk_0000", "to": "olivia_ortho_1_chunk_0000_ann_location", "label": "HAS_ANNOTATION", "color": "#4ECDC4", "width": 2, "arrows": "to"}, {"from": "olivia_ortho_1_chunk_0000", "to": "olivia_ortho_1_chunk_0000_ann_length", "label": "HAS_ANNOTATION", "color": "#4ECDC4", "width": 2, "arrows": "to"}, {"from": "olivia_ortho_1", "to": "olivia_ortho_1_chunk_0001", "label": "HAS_CHUNK", "color": "#FF6B6B", "width": 3, "arrows": "to"}, {"from": "olivia_ortho_1_chunk_0001", "to": "topic_partenamut", "label": "ABOUT", "color": "#FFD93D", "width": 2.5, "arrows": "to"}, {"from": "olivia_ortho_1_chunk_0001", "to": "topic_client", "label": "ABOUT", "color": "#FFD93D", "width": 2.5, "arrows": "to"}, {"from": "olivia_ortho_1_chunk_0001", "to": "topic_remboursement", "label": "ABOUT", "color": "#FFD93D", "width": 2.5, "arrows": "to"}, {"from": "olivia_ortho_1_chunk_0001", "to": "olivia_ortho_1_chunk_0001_ann_element_type", "label": "HAS_ANNOTATION", "color": "#4ECDC4", "width": 2, "arrows": "to"}, {"from": "olivia_ortho_1_chunk_0001", "to": "olivia_ortho_1_chunk_0001_ann_location", "label": "HAS_ANNOTATION", "color": "#4ECDC4", "width": 2, "arrows": "to"}, {"from": "olivia_ortho_1_chunk_0001", "to": "olivia_ortho_1_chunk_0001_ann_length", "label": "HAS_ANNOTATION", "color": "#4ECDC4", "width": 2, "arrows": "to"}, {"from": "olivia_ortho_1", "to": "olivia_ortho_1_chunk_0002", "label": "HAS_CHUNK", "color": "#FF6B6B", "width": 3, "arrows": "to"}, {"from": "olivia_ortho_1_chunk_0002", "to": "olivia_ortho_1_chunk_0002_ann_element_type", "label": "HAS_ANNOTATION", "color": "#4ECDC4", "width": 2, "arrows": "to"}, {"from": "olivia_ortho_1_chunk_0002", "to": "olivia_ortho_1_chunk_0002_ann_location", "label": "HAS_ANNOTATION", "color": "#4ECDC4", "width": 2, "arrows": "to"}, {"from": "olivia_ortho_1_chunk_0002", "to": "olivia_ortho_1_chunk_0002_ann_length", "label": "HAS_ANNOTATION", "color": "#4ECDC4", "width": 2, "arrows": "to"}, {"from": "olivia_ortho_1", "to": "olivia_ortho_1_chunk_0003", "label": "HAS_CHUNK", "color": "#FF6B6B", "width": 3, "arrows": "to"}, {"from": "olivia_ortho_1_chunk_0003", "to": "topic_mutuelle", "label": "ABOUT", "color": "#FFD93D", "width": 2.5, "arrows": "to"}, {"from": "olivia_ortho_1_chunk_0003", "to": "topic_mloz", "label": "ABOUT", "color": "#FFD93D", "width": 2.5, "arrows": "to"}, {"from": "olivia_ortho_1_chunk_0003", "to": "topic_insurance", "label": "ABOUT", "color": "#FFD93D", "width": 2.5, "arrows": "to"}, {"from": "olivia_ortho_1_chunk_0003", "to": "topic_assurance", "label": "ABOUT", "color": "#FFD93D", "width": 2.5, "arrows": "to"}, {"from": "olivia_ortho_1_chunk_0003", "to": "topic_contrat", "label": "ABOUT", "color": "#FFD93D", "width": 2.5, "arrows": "to"}, {"from": "olivia_ortho_1_chunk_0003", "to": "olivia_ortho_1_chunk_0003_ann_element_type", "label": "HAS_ANNOTATION", "color": "#4ECDC4", "width": 2, "arrows": "to"}, {"from": "olivia_ortho_1_chunk_0003", "to": "olivia_ortho_1_chunk_0003_ann_location", "label": "HAS_ANNOTATION", "color": "#4ECDC4", "width": 2, "arrows": "to"}, {"from": "olivia_ortho_1_chunk_0003", "to": "olivia_ortho_1_chunk_0003_ann_length", "label": "HAS_ANNOTATION", "color": "#4ECDC4", "width": 2, "arrows": "to"}, {"from": "olivia_ortho_1", "to": "olivia_ortho_1_chunk_0004", "label": "HAS_CHUNK", "color": "#FF6B6B", "width": 3, "arrows": "to"}, {"from": "olivia_ortho_1_chunk_0004", "to": "topic_dentaire", "label": "ABOUT", "color": "#FFD93D", "width": 2.5, "arrows": "to"}, {"from": "olivia_ortho_1_chunk_0004", "to": "topic_intervention", "label": "ABOUT", "color": "#FFD93D", "width": 2.5, "arrows": "to"}, {"from": "olivia_ortho_1_chunk_0004", "to": "topic_totaux", "label": "ABOUT", "color": "#FFD93D", "width": 2.5, "arrows": "to"}, {"from": "olivia_ortho_1_chunk_0004", "to": "topic_assurance", "label": "ABOUT", "color": "#FFD93D", "width": 2.5, "arrows": "to"}, {"from": "olivia_ortho_1_chunk_0004", "to": "topic_montant", "label": "ABOUT", "color": "#FFD93D", "width": 2.5, "arrows": "to"}, {"from": "olivia_ortho_1_chunk_0004", "to": "olivia_ortho_1_chunk_0004_ann_element_type", "label": "HAS_ANNOTATION", "color": "#4ECDC4", "width": 2, "arrows": "to"}, {"from": "olivia_ortho_1_chunk_0004", "to": "olivia_ortho_1_chunk_0004_ann_location", "label": "HAS_ANNOTATION", "color": "#4ECDC4", "width": 2, "arrows": "to"}, {"from": "olivia_ortho_1_chunk_0004", "to": "olivia_ortho_1_chunk_0004_ann_length", "label": "HAS_ANNOTATION", "color": "#4ECDC4", "width": 2, "arrows": "to"}, {"from": "olivia_ortho_1", "to": "olivia_ortho_1_chunk_0005", "label": "HAS_CHUNK", "color": "#FF6B6B", "width": 3, "arrows": "to"}, {"from": "olivia_ortho_1_chunk_0005", "to": "topic_dentalia", "label": "ABOUT", "color": "#FFD93D", "width": 2.5, "arrows": "to"}, {"from": "olivia_ortho_1_chunk_0005", "to": "topic_annee", "label": "ABOUT", "color": "#FFD93D", "width": 2.5, "arrows": "to"}, {"from": "olivia_ortho_1_chunk_0005", "to": "topic_periode", "label": "ABOUT", "color": "#FFD93D", "width": 2.5, "arrows": "to"}, {"from": "olivia_ortho_1_chunk_0005", "to": "topic_montant", "label": "ABOUT", "color": "#FFD93D", "width": 2.5, "arrows": "to"}, {"from": "olivia_ortho_1_chunk_0005", "to": "topic_plafond", "label": "ABOUT", "color": "#FFD93D", "width": 2.5, "arrows": "to"}, {"from": "olivia_ortho_1_chunk_0005", "to": "olivia_ortho_1_chunk_0005_ann_element_type", "label": "HAS_ANNOTATION", "color": "#4ECDC4", "width": 2, "arrows": "to"}, {"from": "olivia_ortho_1_chunk_0005", "to": "olivia_ortho_1_chunk_0005_ann_location", "label": "HAS_ANNOTATION", "color": "#4ECDC4", "width": 2, "arrows": "to"}, {"from": "olivia_ortho_1_chunk_0005", "to": "olivia_ortho_1_chunk_0005_ann_length", "label": "HAS_ANNOTATION", "color": "#4ECDC4", "width": 2, "arrows": "to"}, {"from": "olivia_ortho_2", "to": "olivia_ortho_2_chunk_0000", "label": "HAS_CHUNK", "color": "#FF6B6B", "width": 3, "arrows": "to"}, {"from": "olivia_ortho_2_chunk_0000", "to": "topic_periode", "label": "ABOUT", "color": "#FFD93D", "width": 2.5, "arrows": "to"}, {"from": "olivia_ortho_2_chunk_0000", "to": "topic_remboursement", "label": "ABOUT", "color": "#FFD93D", "width": 2.5, "arrows": "to"}, {"from": "olivia_ortho_2_chunk_0000", "to": "topic_sante", "label": "ABOUT", "color": "#FFD93D", "width": 2.5, "arrows": "to"}, {"from": "olivia_ortho_2_chunk_0000", "to": "topic_assurance", "label": "ABOUT", "color": "#FFD93D", "width": 2.5, "arrows": "to"}, {"from": "olivia_ortho_2_chunk_0000", "to": "topic_compte", "label": "ABOUT", "color": "#FFD93D", "width": 2.5, "arrows": "to"}, {"from": "olivia_ortho_2_chunk_0000", "to": "olivia_ortho_2_chunk_0000_ann_element_type", "label": "HAS_ANNOTATION", "color": "#4ECDC4", "width": 2, "arrows": "to"}, {"from": "olivia_ortho_2_chunk_0000", "to": "olivia_ortho_2_chunk_0000_ann_location", "label": "HAS_ANNOTATION", "color": "#4ECDC4", "width": 2, "arrows": "to"}, {"from": "olivia_ortho_2_chunk_0000", "to": "olivia_ortho_2_chunk_0000_ann_length", "label": "HAS_ANNOTATION", "color": "#4ECDC4", "width": 2, "arrows": "to"}, {"from": "olivia_ortho_2", "to": "olivia_ortho_2_chunk_0001", "label": "HAS_CHUNK", "color": "#FF6B6B", "width": 3, "arrows": "to"}, {"from": "olivia_ortho_2_chunk_0001", "to": "topic_montant", "label": "ABOUT", "color": "#FFD93D", "width": 2.5, "arrows": "to"}, {"from": "olivia_ortho_2_chunk_0001", "to": "topic_remboursement", "label": "ABOUT", "color": "#FFD93D", "width": 2.5, "arrows": "to"}, {"from": "olivia_ortho_2_chunk_0001", "to": "topic_mensuel", "label": "ABOUT", "color": "#FFD93D", "width": 2.5, "arrows": "to"}, {"from": "olivia_ortho_2_chunk_0001", "to": "topic_assurance", "label": "ABOUT", "color": "#FFD93D", "width": 2.5, "arrows": "to"}, {"from": "olivia_ortho_2_chunk_0001", "to": "topic_traitement", "label": "ABOUT", "color": "#FFD93D", "width": 2.5, "arrows": "to"}, {"from": "olivia_ortho_2_chunk_0001", "to": "olivia_ortho_2_chunk_0001_ann_element_type", "label": "HAS_ANNOTATION", "color": "#4ECDC4", "width": 2, "arrows": "to"}, {"from": "olivia_ortho_2_chunk_0001", "to": "olivia_ortho_2_chunk_0001_ann_location", "label": "HAS_ANNOTATION", "color": "#4ECDC4", "width": 2, "arrows": "to"}, {"from": "olivia_ortho_2_chunk_0001", "to": "olivia_ortho_2_chunk_0001_ann_length", "label": "HAS_ANNOTATION", "color": "#4ECDC4", "width": 2, "arrows": "to"}, {"from": "olivia_ortho_2", "to": "olivia_ortho_2_chunk_0002", "label": "HAS_CHUNK", "color": "#FF6B6B", "width": 3, "arrows": "to"}, {"from": "olivia_ortho_2_chunk_0002", "to": "topic_assurance", "label": "ABOUT", "color": "#FFD93D", "width": 2.5, "arrows": "to"}, {"from": "olivia_ortho_2_chunk_0002", "to": "topic_remboursement", "label": "ABOUT", "color": "#FFD93D", "width": 2.5, "arrows": "to"}, {"from": "olivia_ortho_2_chunk_0002", "to": "topic_montant", "label": "ABOUT", "color": "#FFD93D", "width": 2.5, "arrows": "to"}, {"from": "olivia_ortho_2_chunk_0002", "to": "olivia_ortho_2_chunk_0002_ann_element_type", "label": "HAS_ANNOTATION", "color": "#4ECDC4", "width": 2, "arrows": "to"}, {"from": "olivia_ortho_2_chunk_0002", "to": "olivia_ortho_2_chunk_0002_ann_location", "label": "HAS_ANNOTATION", "color": "#4ECDC4", "width": 2, "arrows": "to"}, {"from": "olivia_ortho_2_chunk_0002", "to": "olivia_ortho_2_chunk_0002_ann_length", "label": "HAS_ANNOTATION", "color": "#4ECDC4", "width": 2, "arrows": "to"}, {"from": "olivia_ortho_2", "to": "olivia_ortho_2_chunk_0003", "label": "HAS_CHUNK", "color": "#FF6B6B", "width": 3, "arrows": "to"}, {"from": "olivia_ortho_2_chunk_0003", "to": "topic_assurance", "label": "ABOUT", "color": "#FFD93D", "width": 2.5, "arrows": "to"}, {"from": "olivia_ortho_2_chunk_0003", "to": "topic_remboursement", "label": "ABOUT", "color": "#FFD93D", "width": 2.5, "arrows": "to"}, {"from": "olivia_ortho_2_chunk_0003", "to": "topic_montant", "label": "ABOUT", "color": "#FFD93D", "width": 2.5, "arrows": "to"}, {"from": "olivia_ortho_2_chunk_0003", "to": "olivia_ortho_2_chunk_0003_ann_element_type", "label": "HAS_ANNOTATION", "color": "#4ECDC4", "width": 2, "arrows": "to"}, {"from": "olivia_ortho_2_chunk_0003", "to": "olivia_ortho_2_chunk_0003_ann_location", "label": "HAS_ANNOTATION", "color": "#4ECDC4", "width": 2, "arrows": "to"}, {"from": "olivia_ortho_2_chunk_0003", "to": "olivia_ortho_2_chunk_0003_ann_length", "label": "HAS_ANNOTATION", "color": "#4ECDC4", "width": 2, "arrows": "to"}, {"from": "olivia_ortho_2", "to": "olivia_ortho_2_chunk_0004", "label": "HAS_CHUNK", "color": "#FF6B6B", "width": 3, "arrows": "to"}, {"from": "olivia_ortho_2_chunk_0004", "to": "olivia_ortho_2_chunk_0004_ann_element_type", "label": "HAS_ANNOTATION", "color": "#4ECDC4", "width": 2, "arrows": "to"}, {"from": "olivia_ortho_2_chunk_0004", "to": "olivia_ortho_2_chunk_0004_ann_location", "label": "HAS_ANNOTATION", "color": "#4ECDC4", "width": 2, "arrows": "to"}, {"from": "olivia_ortho_2_chunk_0004", "to": "olivia_ortho_2_chunk_0004_ann_length", "label": "HAS_ANNOTATION", "color": "#4ECDC4", "width": 2, "arrows": "to"}];
        const sharedTopicsData = [{"id": "topic_sante", "name": "sant√©", "documents": ["olivia_ortho_2", "olivia_ortho_1"]}, {"id": "topic_remboursement", "name": "remboursement", "documents": ["olivia_ortho_2", "olivia_ortho_1"]}, {"id": "topic_assurance", "name": "assurance", "documents": ["olivia_ortho_2", "olivia_ortho_1"]}, {"id": "topic_montant", "name": "montant", "documents": ["olivia_ortho_2", "olivia_ortho_1"]}, {"id": "topic_periode", "name": "p√©riode", "documents": ["olivia_ortho_2", "olivia_ortho_1"]}];
        
        // Cr√©er le r√©seau
        const container = document.getElementById('mynetwork');
        const data = {
            nodes: new vis.DataSet(nodesData),
            edges: new vis.DataSet(edgesData)
        };
        
        let options = {
            nodes: {
                shape: 'dot',
                size: 20,
                font: {
                    size: 14,
                    color: '#333',
                    face: 'Segoe UI'
                },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: {
                    to: {
                        enabled: true,
                        scaleFactor: 0.5
                    }
                },
                smooth: {
                    type: 'cubicBezier',
                    forceDirection: 'vertical',
                    roundness: 0.4
                },
                font: {
                    size: 10,
                    align: 'middle'
                }
            },
            layout: {
                hierarchical: {
                    enabled: true,
                    direction: 'UD',
                    sortMethod: 'directed',
                    levelSeparation: 150,
                    nodeSpacing: 200
                }
            },
            physics: {
                enabled: false
            },
            interaction: {
                hover: true,
                tooltipDelay: 200,
                navigationButtons: true,
                keyboard: true
            }
        };
        
        const network = new vis.Network(container, data, options);
        
        // Fonctions de contr√¥le
        function changeLayout() {
            const layout = document.getElementById('layoutSelect').value;
            
            if (layout === 'hierarchical') {
                network.setOptions({
                    layout: {
                        hierarchical: {
                            enabled: true,
                            direction: 'UD',
                            sortMethod: 'directed'
                        }
                    },
                    physics: { enabled: false }
                });
            } else if (layout === 'force') {
                network.setOptions({
                    layout: {
                        hierarchical: { enabled: false }
                    },
                    physics: {
                        enabled: true,
                        barnesHut: {
                            gravitationalConstant: -2000,
                            springLength: 200,
                            springConstant: 0.04
                        }
                    }
                });
            } else if (layout === 'circular') {
                network.setOptions({
                    layout: {
                        hierarchical: { enabled: false }
                    },
                    physics: { enabled: false }
                });
                
                // Positionner en cercle
                const nodes = data.nodes.get();
                const angleStep = (2 * Math.PI) / nodes.length;
                const radius = 400;
                
                nodes.forEach((node, index) => {
                    const angle = index * angleStep;
                    data.nodes.update({
                        id: node.id,
                        x: radius * Math.cos(angle),
                        y: radius * Math.sin(angle)
                    });
                });
            }
        }
        
        function focusOnTopics() {
            const topicIds = sharedTopicsData.map(t => t.id);
            network.selectNodes(topicIds);
            network.fit({
                nodes: topicIds,
                animation: true
            });
        }
        
        function showAllNodes() {
            network.fit({ animation: true });
        }
        
        function highlightConnections() {
            const selectedNodes = network.getSelectedNodes();
            
            if (selectedNodes.length === 0) {
                alert('S√©lectionnez d\'abord un n≈ìud !');
                return;
            }
            
            const connectedNodes = network.getConnectedNodes(selectedNodes[0]);
            network.selectNodes([selectedNodes[0], ...connectedNodes]);
        }
        
        function resetView() {
            network.unselectAll();
            network.fit({ animation: true });
        }
        
        // Event listeners
        network.on('selectNode', function(params) {
            const nodeId = params.nodes[0];
            const node = data.nodes.get(nodeId);
            console.log('N≈ìud s√©lectionn√©:', node);
        });
        
        network.on('doubleClick', function(params) {
            if (params.nodes.length > 0) {
                const nodeId = params.nodes[0];
                const connectedNodes = network.getConnectedNodes(nodeId);
                network.fit({
                    nodes: [nodeId, ...connectedNodes],
                    animation: true
                });
            }
        });
        
        // Initialisation
        console.log('Graphe charg√© avec succ√®s !');
        console.log('Documents:', 2);
        console.log('Topics partag√©s:', sharedTopicsData.length);
    </script>
</body>
</html>